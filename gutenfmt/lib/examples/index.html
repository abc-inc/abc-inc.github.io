<!doctype html><html lang=en-us><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><title>gutenfmt/gutenfmt/lib/examples/</title><meta name=viewport content="width=device-width,initial-scale=1"><meta name=robots content="all,follow"><meta name=googlebot content="index,follow,snippet,archive"><link rel=stylesheet href=http://fonts.cdnfonts.com/css/cascadia-code><link rel=stylesheet href=https://abc-inc.github.io/gutenfmt/hugo-theme-console/css/terminal-0.7.1.min.css><link rel=stylesheet href=https://abc-inc.github.io/gutenfmt/hugo-theme-console/css/animate-3.7.2.min.css><link rel=stylesheet href=https://abc-inc.github.io/gutenfmt/hugo-theme-console/css/console.css><!--[if lt IE 9]><script src=https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js></script><script src=https://oss.maxcdn.com/respond/1.4.2/respond.min.js></script><![endif]--><meta property="og:title" content="Examples"><meta property="og:description" content><meta property="og:type" content="article"><meta property="og:url" content="https://abc-inc.github.io/gutenfmt/lib/examples/"><meta name=twitter:title content="Examples"><meta name=twitter:description content="The examples listed on this page use the following model:
type User struct { Name string `json:&#34;username&#34; yaml:&#34;Username&#34;` Mail string `json:&#34;email&#34; yaml:&#34;E-Mail&#34;` Password string `json:&#34;-&#34; yaml:&#34;-&#34;` } type Team struct { name string members []User } JSON with custom Formatter Note that Team does not have any field tags. Thus, a custom Formatter is required in order to obtain a proper string representation. Moreover, it prints the number of Team members instead of enumerating them."><style type=text/css>pre code{overflow-x:auto}.posts-list!>p{left:-130px;position:relative}a.active{background-color:var(--primary-color);color:var(--invert-font-color)}.strong{display:inline-block;font-weight:700;margin-top:1em}@media only screen and (min-width:851px){.container{padding-left:200px}.menu.posts-list{left:-110px!important;padding-left:130px;position:fixed;top:75px}}@media only screen and (max-width:850px){.menu.posts-list{position:relative!important}.posts-list .date{display:inherit;position:inherit}}</style></head><body class=terminal><div class=container><div class=terminal-nav><header class=terminal-logo><div class="logo terminal-prompt"><a href=https://abc-inc.github.io/gutenfmt/ class=no-style>gutenfmt</a> / <a href=https://abc-inc.github.io/gutenfmt/lib>lib</a> / <a href=https://abc-inc.github.io/gutenfmt/lib/examples>examples</a></div></header><nav class=terminal-menu><ul vocab="https://schema.org/" typeof="BreadcrumbList"><li><a href=https://github.com/abc-inc/gutenfmt/ target=_blank typeof="ListItem"><img src=https://github.com/fluidicon.png alt height=24 style=width:auto title="project on GitHub"></a></li><li><a href=https://pkg.go.dev/github.com/abc-inc/gutenfmt/ target=_blank typeof="ListItem"><img src=https://pkg.go.dev/static/shared/icon/favicon.ico alt height=24 style=width:auto title="discover on pkg.go.dev"></a></li></ul></nav></div></div><div class=container><div class="menu posts-list"><div class=post><div><a href=https://abc-inc.github.io/gutenfmt/intro/ class=strong title=Introduction>Introduction</a></div></div><div class=post><div>&nbsp;&nbsp;<a href=https://abc-inc.github.io/gutenfmt/intro/similar/ title="Similar Projects">Similar Projects</a></div></div><div class=post><div><a href=https://abc-inc.github.io/gutenfmt/cmd/ class=strong title=Manual>Manual</a></div></div><div class=post><div>&nbsp;&nbsp;<a href=https://abc-inc.github.io/gutenfmt/cmd/output/ title="Output Formats">Output Formats</a></div></div><div class=post><div>&nbsp;&nbsp;&nbsp;&nbsp;<a href=https://abc-inc.github.io/gutenfmt/cmd/output/json/ title=json>json</a></div></div><div class=post><div>&nbsp;&nbsp;&nbsp;&nbsp;<a href=https://abc-inc.github.io/gutenfmt/cmd/output/jsonc/ title=jsonc>jsonc</a></div></div><div class=post><div>&nbsp;&nbsp;&nbsp;&nbsp;<a href=https://abc-inc.github.io/gutenfmt/cmd/output/table/ title=table>table</a></div></div><div class=post><div>&nbsp;&nbsp;&nbsp;&nbsp;<a href=https://abc-inc.github.io/gutenfmt/cmd/output/text/ title=text>text</a></div></div><div class=post><div>&nbsp;&nbsp;&nbsp;&nbsp;<a href=https://abc-inc.github.io/gutenfmt/cmd/output/tsv/ title=tsv>tsv</a></div></div><div class=post><div>&nbsp;&nbsp;&nbsp;&nbsp;<a href=https://abc-inc.github.io/gutenfmt/cmd/output/yaml/ title=yaml>yaml</a></div></div><div class=post><div>&nbsp;&nbsp;&nbsp;&nbsp;<a href=https://abc-inc.github.io/gutenfmt/cmd/output/yamlc/ title=yamlc>yamlc</a></div></div><div class=post><div><a href=https://abc-inc.github.io/gutenfmt/lib/ class=strong title="Go Library">Go Library</a></div></div><div class=post><div>&nbsp;&nbsp;<a href=https://abc-inc.github.io/gutenfmt/lib/getting-started/ title="Getting Started">Getting Started</a></div></div><div class=post><div>&nbsp;&nbsp;<a href=https://abc-inc.github.io/gutenfmt/lib/custom/ title=Customization>Customization</a></div></div><div class=post><div>&nbsp;&nbsp;<a href=https://abc-inc.github.io/gutenfmt/lib/examples/ class=active title=Examples>Examples</a></div></div></div></div><div class=container style=margin-left:auto><aside><header><h1>Table of Contents</h1></header><nav id=TableOfContents><ul><li><a href=#json-with-custom-formatter>JSON with custom Formatter</a></li><li><a href=#table-from-single-structmap>Table from single struct/map</a></li><li><a href=#table-from-slice-of-structsmaps>Table from slice of structs/maps</a></li><li><a href=#yaml-from-slice-of-structsmaps>YAML from slice of structs/maps</a></li></ul></nav></aside><h1>Examples</h1><p>The examples listed on this page use the following model:</p><div class=highlight><pre style=background-color:#fff;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-go data-lang=go><span style=color:#000;font-weight:700>type</span> User <span style=color:#000;font-weight:700>struct</span> {
	Name     <span style=color:#458;font-weight:700>string</span> <span style=color:#d14>`json:&#34;username&#34; yaml:&#34;Username&#34;`</span>
	Mail     <span style=color:#458;font-weight:700>string</span> <span style=color:#d14>`json:&#34;email&#34; yaml:&#34;E-Mail&#34;`</span>
	Password <span style=color:#458;font-weight:700>string</span> <span style=color:#d14>`json:&#34;-&#34; yaml:&#34;-&#34;`</span>
}

<span style=color:#000;font-weight:700>type</span> Team <span style=color:#000;font-weight:700>struct</span> {
	name    <span style=color:#458;font-weight:700>string</span>
	members []User
}
</code></pre></div><h2 id=json-with-custom-formatter>JSON with custom Formatter</h2><p>Note that <strong>Team</strong> does not have any field tags.
Thus, a custom <strong>Formatter</strong> is required in order to obtain a proper string representation.
Moreover, it prints the number of <strong>Team</strong> members instead of enumerating them.</p><div class=highlight><pre style=background-color:#fff;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-go data-lang=go>w <span style=color:#000;font-weight:700>:=</span> <span style=color:#900;font-weight:700>NewJSON</span>(os.Stdout)
w.Formatter.<span style=color:#900;font-weight:700>SetFormatterFunc</span>(reflect.<span style=color:#900;font-weight:700>TypeOf</span>(t).<span style=color:#900;font-weight:700>Name</span>(), <span style=color:#000;font-weight:700>func</span>(i <span style=color:#000;font-weight:700>interface</span>{}) (<span style=color:#458;font-weight:700>string</span>, <span style=color:#458;font-weight:700>error</span>) {
	tm <span style=color:#000;font-weight:700>:=</span> i.(Team)
	<span style=color:#000;font-weight:700>return</span> <span style=color:#d14>`{&#34;team&#34;:&#34;`</span> <span style=color:#000;font-weight:700>+</span> tm.<span style=color:#900;font-weight:700>Name</span>() <span style=color:#000;font-weight:700>+</span> <span style=color:#d14>`&#34;,&#34;members&#34;:`</span> <span style=color:#000;font-weight:700>+</span> strconv.<span style=color:#900;font-weight:700>Itoa</span>(<span style=color:#0086b3>len</span>(tm.<span style=color:#900;font-weight:700>Members</span>())) <span style=color:#000;font-weight:700>+</span> <span style=color:#d14>`}`</span>, <span style=color:#000;font-weight:700>nil</span>
})

n, err <span style=color:#000;font-weight:700>:=</span> w.<span style=color:#900;font-weight:700>Write</span>(t)
<span style=color:#998;font-style:italic>// Output:
</span><span style=color:#998;font-style:italic>// {&#34;team&#34;:&#34;SUPPORT&#34;,&#34;members&#34;:2}
</span></code></pre></div><h2 id=table-from-single-structmap>Table from single struct/map</h2><p>By default, the table representation of a <strong>struct</strong> is a two-column newline-separated string.
The columns are aligned, which results in a human-readable table.</p><div class=highlight><pre style=background-color:#fff;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-text data-lang=text>firstFieldName  value1
secondFieldName value2
</code></pre></div><p>A <strong>map</strong> is handled similarly.
Each entry in the <strong>map</strong> corresponds to a row in the table representation.</p><div class=highlight><pre style=background-color:#fff;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-go data-lang=go>w <span style=color:#000;font-weight:700>:=</span> <span style=color:#900;font-weight:700>NewTab</span>(os.Stdout)
n, err <span style=color:#000;font-weight:700>:=</span> w.<span style=color:#900;font-weight:700>Write</span>(u)
<span style=color:#998;font-style:italic>// Output:
</span><span style=color:#998;font-style:italic>// username John Doe
</span><span style=color:#998;font-style:italic>// email    john.doe@local
</span><span style=color:#998;font-style:italic></span>}
</code></pre></div><h2 id=table-from-slice-of-structsmaps>Table from slice of structs/maps</h2><p>When writing a <strong>struct</strong> or <strong>map</strong> slice, the table layout is changed accordingly.
Every element in the slice corresponds to a row of multiple columns.</p><div class=highlight><pre style=background-color:#fff;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-go data-lang=go>w <span style=color:#000;font-weight:700>:=</span> <span style=color:#900;font-weight:700>NewTab</span>(os.Stdout)
n, err <span style=color:#000;font-weight:700>:=</span> w.<span style=color:#900;font-weight:700>Write</span>(users)
<span style=color:#998;font-style:italic>// Output:
</span><span style=color:#998;font-style:italic>// username       email
</span><span style=color:#998;font-style:italic>// John Doe       john.doe@local
</span><span style=color:#998;font-style:italic>// Rudolf Lingens rudolf.lingens@local
</span></code></pre></div><h2 id=yaml-from-slice-of-structsmaps>YAML from slice of structs/maps</h2><p>When formatting a <strong>struct</strong>, <strong>map</strong> or a slice thereof to YAML,
the &ldquo;<strong>yaml</strong>&rdquo; field tags are considered instead.
This enables to have a different naming for JSON and YAML output.
Moreover, certain fields could be excluded by using the field tag <strong>"-"</strong>.</p><div class=highlight><pre style=background-color:#fff;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-go data-lang=go>w <span style=color:#000;font-weight:700>:=</span> <span style=color:#900;font-weight:700>NewYAML</span>(os.Stdout)
_, _ = w.<span style=color:#900;font-weight:700>Write</span>(users)
<span style=color:#998;font-style:italic>// Output:
</span><span style=color:#998;font-style:italic>// - Username: John Doe
</span><span style=color:#998;font-style:italic>//   E-Mail: john.doe@local
</span><span style=color:#998;font-style:italic>// - Username: Rudolf Lingens
</span><span style=color:#998;font-style:italic>//   E-Mail: rudolf.lingens@local
</span></code></pre></div><div class=footer>Powered by <a href=https://gohugo.io/>Hugo</a> with
<a href=https://github.com/mrmierzejewski/hugo-theme-console/>Console Theme</a>.</div></div></body></html>